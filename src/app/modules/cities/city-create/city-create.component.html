<form [formGroup]="cityForm" (ngSubmit)="saveCity()">
  <div class="space-y-10 divide-y divide-gray-900/10">
    <div class="grid grid-cols-1 gap-x-8 gap-y-8 md:grid-cols-3">
      <div class="px-4 sm:px-0">
        <h2 class="text-base font-semibold leading-7 text-gray-900 dark:text-gray-300" i18n>
          Information
        </h2>
        <p class="mt-1 text-sm leading-6 text-gray-600 dark:text-gray-400" i18n>
          General information about the location you want to pin information about.
        </p>
      </div>

      <mat-card class="md:col-span-2">
        <mat-card-content class="flex flex-col space-y-6">
          <!-- Name -->
          <mat-form-field>
            <mat-label i18n>Name</mat-label>
            <input type="text" matInput [formControl]="cityForm.controls.name">
            @for (error of cityForm.controls.name.errors ?? {} | keyvalue; track $index) {
              <mat-error>{{ error.key }}</mat-error>
            }
          </mat-form-field>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="grid grid-cols-1 gap-x-8 gap-y-8 md:grid-cols-3">
      <div class="px-4 sm:px-0">
        <h2 class="text-base font-semibold leading-7 text-gray-900 dark:text-gray-300" i18n>
          Location
        </h2>
        <p class="mt-1 text-sm leading-6 text-gray-600 dark:text-gray-400" i18n>
          Use the map to select the location you want information about.
        </p>
      </div>

      <mat-card class="md:col-span-2">
        <mat-card-content class="flex flex-col space-y-6">
          <!-- Latitude -->
          <mat-form-field>
            <mat-label i18n>Latitude</mat-label>
            <input type="numeric" step="0.01" matInput [formControl]="cityForm.controls.latitude">
            @for (error of cityForm.controls.latitude.errors ?? {} | keyvalue; track $index) {
              <mat-error>{{ error.key }}</mat-error>
            }
          </mat-form-field>

          <!-- Longitude -->
          <mat-form-field>
            <mat-label i18n>Longitude</mat-label>
            <input type="numeric" step="0.01" matInput [formControl]="cityForm.controls.longitude">
            @for (error of cityForm.controls.longitude.errors ?? {} | keyvalue; track $index) {
              <mat-error>{{ error.key }}</mat-error>
            }
          </mat-form-field>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <mat-card class="sticky bottom-0 inset-x-0 mt-8">
    <mat-card-content class="flex items-center justify-end gap-x-6 px-4 py-4 sm:px-8">
      <a routerLink="/" mat-button>
        Cancel
      </a>
      <button type="submit" mat-flat-button color="primary" [disabled]="cityForm.disabled">
        <mat-icon fontIcon="save"></mat-icon>
        @if(saving()) {
          <ng-container i18n>Saving...</ng-container>
        } @else {
          <ng-container i18n>Save</ng-container>
        }
      </button>
    </mat-card-content>
  </mat-card>

</form>
